global:
  smtp_smarthost: 'smtp.gmail.com:587'
  smtp_from: '${GMAIL_USERNAME}'
  smtp_auth_username: '${GMAIL_USERNAME}'
  smtp_auth_password: '${GMAIL_APP_PASSWORD}'

route:
  group_by: ['alertname']
  group_wait: 10s
  group_interval: 10s
  repeat_interval: 1h
  receiver: 'web.hook'

receivers:
  - name: 'web.hook'
    email_configs:
      - to: 'your-email@gmail.com'
        subject: 'ğŸš¨ [ëª¨ë‹ˆí„°ë§ ì•Œë¦¼] {{ .GroupLabels.alertname }}'
        body: |
          **ì•Œë¦¼ ë°œìƒ!**
          
          **ì•Œë¦¼ëª…**: {{ .GroupLabels.alertname }}
          **ì‹¬ê°ë„**: {{ .CommonLabels.severity }}
          **ë°œìƒì‹œê°„**: {{ .CommonAnnotations.timestamp }}
          
          **ìƒì„¸ ì •ë³´**:
          {{ range .Alerts }}
          - **ì¸ìŠ¤í„´ìŠ¤**: {{ .Labels.instance }}
          - **ì„¤ëª…**: {{ .Annotations.description }}
          - **ê°’**: {{ .Annotations.value }}
          {{ end }}
          
          **ëŒ€ì‹œë³´ë“œ**: http://localhost:3000
          **Prometheus**: http://localhost:9090
        html: |
          <h2> ëª¨ë‹ˆí„°ë§ ì•Œë¦¼</h2>
          <table border="1" style="border-collapse: collapse;">
            <tr><td><b>ì•Œë¦¼ëª…</b></td><td>{{ .GroupLabels.alertname }}</td></tr>
            <tr><td><b>ì‹¬ê°ë„</b></td><td>{{ .CommonLabels.severity }}</td></tr>
            <tr><td><b>ë°œìƒì‹œê°„</b></td><td>{{ .CommonAnnotations.timestamp }}</td></tr>
          </table>
          
          <h3>ì˜í–¥ë°›ì€ ì„œë¹„ìŠ¤:</h3>
          <ul>
          {{ range .Alerts }}
            <li><b>{{ .Labels.instance }}</b>: {{ .Annotations.description }}</li>
          {{ end }}
          </ul>
          
          <p><a href="http://localhost:3000"> Grafana ëŒ€ì‹œë³´ë“œ</a> | <a href="http://localhost:9090"> Prometheus</a></p>

inhibit_rules:
  - source_match:
      severity: 'critical'
    target_match:
      severity: 'warning'
    equal: ['alertname', 'dev', 'instance']